<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ML Model Performance Analytics</title>
    <link rel="stylesheet" href="/static/css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="about-card">
        <h2>ğŸ“Š Machine Learning Model Performance</h2>
        <p>Our crop recommendation system evaluates multiple ML algorithms to ensure robust and accurate predictions. The chart below shows the accuracy comparison across different models trained on our comprehensive agricultural dataset.</p>

        <div style="margin: 40px 0;">
          <canvas id="accuracyChart" width="800" height="400"></canvas>
        </div>

        <div class="cards" style="margin-top: 40px;">
          <div class="card">
            <h3>ğŸ† Best Performer</h3>
            <p><strong>Random Forest (99.3%)</strong> - Selected as our production model for its excellent balance of accuracy and robustness.</p>
          </div>
          <div class="card">
            <h3>ğŸ¯ High Accuracy</h3>
            <p>Multiple models achieve over 98% accuracy, demonstrating the quality of our dataset and feature engineering.</p>
          </div>
          <div class="card">
            <h3>âš¡ Real-time Deployment</h3>
            <p>The Random Forest model provides fast predictions while maintaining high accuracy for real-world agricultural applications.</p>
          </div>
        </div>

        <div class="actions" style="margin-top: 40px;">
          <a class="btn" href="/recommend">ğŸš€ Get Recommendation</a>
          <a class="btn" href="/">ğŸ  Back to Home</a>
        </div>
      </div>
    </div>
    <script>
      fetch('/static/data/metrics.json')
        .then(r => r.json())
        .then(data => {
          const acc = data.accuracy_percent;
          const labels = Object.keys(acc);
          const values = Object.values(acc);

          const ctx = document.getElementById('accuracyChart').getContext('2d');
          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: labels,
              datasets: [{
                label: 'Accuracy (%)',
                data: values,
                backgroundColor: [
                  '#2e7d32', '#66bb6a', '#a5d6a7', '#c8e6c9',
                  '#8bc34a', '#4caf50', '#9ccc65'
                ],
                borderRadius: 8,
                borderSkipped: false
              }]
            },
            options: {
              responsive: true,
              plugins: {
                legend: { display: false },
                title: {
                  display: true,
                  text: 'Model Accuracy Comparison',
                  font: { size: 16, weight: 'bold' }
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  max: 100,
                  ticks: { callback: value => value + '%' }
                },
                x: {
                  ticks: { maxRotation: 45, minRotation: 45 }
                }
              }
            }
          });
        })
        .catch(err => console.error('Could not load metrics:', err));
    </script>
rre  <script src="/static/js/main.js"></script>
  </body>
  </html>
